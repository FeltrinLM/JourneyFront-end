<div class="list-container">
  <h2 class="list-title">Lista de Itens</h2>

  <div class="accordion-container">
    @for (item of items; track item.id) {
      <div class="accordion-item">
        <button class="accordion-header" (click)="toggleItem(item.id)">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="chevron-icon"
            [class.rotated]="openItemIds().has(item.id)"
          >
            <path d="m6 9 6 6 6-6"/>
          </svg>
          <span>{{ item.title }}</span>
        </button>

        <div class="accordion-content" [class.open]="openItemIds().has(item.id)">
          <div class="table-container">

            @switch (item.id) {

              @case (1) { <!-- PEÇAS -->
                <table class="items-table">
                  <thead>
                  <tr>
                    <th>Tipo</th>
                    <th>Tamanho</th>
                    <th>Cor</th>
                    <th>Quantidade</th>
                    <th>Ações</th>
                  </tr>
                  </thead>
                  <tbody>
                    @for (peca of pecas(); track peca.pecaId) {
                      <tr>
                        <td>{{ peca.tipo }}</td>
                        <td>{{ peca.tamanho }}</td>
                        <td>{{ peca.cor }}</td>
                        <td>{{ peca.quantidade }}</td>
                        <td>
                          <button class="action-btn edit-btn" (click)="editarPeca(peca.pecaId)">Editar</button>
                          <button class="action-btn delete-btn" (click)="deletarPeca(peca.pecaId)">Excluir</button>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              }

              @case (2) { <!-- ESTAMPAS -->
                <table class="items-table">
                  <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Quantidade</th>
                    <th>Coleção</th>
                    <th>Ações</th>
                  </tr>
                  </thead>
                  <tbody>
                    @for (estampa of estampas(); track estampa.estampaId) {
                      <tr>
                        <td>{{ estampa.nome }}</td>
                        <td>{{ estampa.quantidade }}</td>
                        <td>{{ obterNomeColecao(estampa.colecaoId) }}</td>
                        <td>
                          <button class="action-btn edit-btn" (click)="editarEstampa(estampa.estampaId)">Editar</button>
                          <button class="action-btn delete-btn" (click)="deletarEstampa(estampa.estampaId)">Excluir</button>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              }

              @case (3) { <!-- ADESIVOS -->
                <table class="items-table">
                  <thead>
                  <tr>
                    <th>Modelo</th>
                    <th>Cromático</th>
                    <th>Ações</th>
                  </tr>
                  </thead>
                  <tbody>
                    @for (adesivo of adesivos(); track adesivo.adesivoId) {
                      <tr>
                        <td>{{ adesivo.adesivoModelo }}</td>
                        <td>{{ adesivo.cromatico ? 'Sim' : 'Não' }}</td>
                        <td>
                          <button class="action-btn edit-btn" (click)="editarAdesivo(adesivo.adesivoId)">Editar</button>
                          <button class="action-btn delete-btn" (click)="deletarAdesivo(adesivo.adesivoId)">Excluir</button>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              }

              @case (4) { <!-- COLEÇÕES -->
                <table class="items-table">
                  <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Data Início</th>
                    <th>Data Fim</th>
                    <th>Ações</th>
                  </tr>
                  </thead>
                  <tbody>
                    @for (colecao of colecoes(); track colecao.colecaoId) {
                      <tr>
                        <td>{{ colecao.nome }}</td>
                        <td>{{ colecao.dataInicio | date:'dd/MM/yyyy' }}</td>
                        <td>{{ colecao.dataFim | date:'dd/MM/yyyy' }}</td>
                        <td>
                          <button class="action-btn edit-btn" (click)="editarColecao(colecao.colecaoId)">Editar</button>
                          <button class="action-btn delete-btn" (click)="deletarColecao(colecao.colecaoId)">Excluir</button>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              }

              @case (5) { <!-- CHAVEIROS -->
                <table class="items-table">
                  <thead>
                  <tr>
                    <th>Modelo</th>
                    <th>Coleção</th>
                    <th>Ações</th>
                  </tr>
                  </thead>
                  <tbody>
                    @for (chaveiro of chaveiros(); track chaveiro.chaveiroId) {
                      <tr>
                        <td>{{ chaveiro.chaveiroModelo }}</td>
                        <td>{{ obterNomeColecao(chaveiro.colecaoId) }}</td>
                        <td>
                          <button class="action-btn edit-btn" (click)="editarChaveiro(chaveiro.chaveiroId)">Editar</button>
                          <button class="action-btn delete-btn" (click)="deletarChaveiro(chaveiro.chaveiroId)">Excluir</button>
                        </td>
                      </tr>
                    }
                  </tbody>
                </table>
              }

            }
          </div>
        </div>
      </div>
    }
  </div>
</div>

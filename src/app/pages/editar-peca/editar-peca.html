<div class="container-demonstracao">

  <app-back-button class="custom-back-btn"></app-back-button>

  @if (carregando && !erroCarregamento) {
    <div class="loading-state">
      <p>Carregando...</p>
    </div>
  }

  @if (erroCarregamento) {
    <div class="error-state">
      <p>{{ erroCarregamento }}</p>
      <button (click)="tentarNovamente()">Tentar Novamente</button>
    </div>
  }

  @if (!carregando && !erroCarregamento) {
    <div class="card">
      <div class="card-header">
        <img
          src="./assets/images/roupas-icon.png"
          class="card-icon filter-white"
          alt="Ícone Roupa"
          onerror="this.src='https://img.icons8.com/ios-filled/50/ffffff/t-shirt.png'"
        >
        <h2 class="card-title">Peça</h2>
      </div>

      <form (ngSubmit)="salvarEdicao()" class="card-form">

        <div class="form-group">
          <div class="select-wrapper">
            <select [(ngModel)]="peca.tipo" name="tipo">
              @for (t of tipos; track $index) {
                <option [value]="t">{{ t }}</option>
              }
            </select>
            <span class="chevron">⌄</span>
          </div>
        </div>

        <div class="form-group">
          <div class="select-wrapper">
            <select [(ngModel)]="peca.tamanho" name="tamanho">
              @for (tam of tamanhos; track $index) {
                <option [value]="tam">{{ tam }}</option>
              }
            </select>
            <span class="chevron">⌄</span>
          </div>
        </div>

        <div class="form-group">
          <div class="select-wrapper">
            <select [(ngModel)]="peca.cor" name="cor">
              @for (c of cores; track $index) {
                <option [value]="c">{{ c }}</option>
              }
            </select>
            <span class="chevron">⌄</span>
          </div>
        </div>

        <div class="form-group">
          <input type="number" [(ngModel)]="peca.quantidade" name="quantidade" class="input-qty">
        </div>

        <button type="submit" class="btn-salvar">Salvar</button>

      </form>
    </div>
  }

</div>
